
<div class="container py-3">
  <div class="row">
    <div class="col-md-12">

      <hr class="mb-4">
      <div class="row justify-content-center">
        <div class="col-md-6">
          <!-- form card login -->
          <div class="card card-outline-secondary">
            <div class="card-header">
              <h3 class="mb-0">ajouter une categorie</h3>
            </div>
            <div class="card-body">
              <form novalidate [formGroup]="angForm" autocomplete="off" class="form" id="formLogin" name="formLogin" role="form" >
                <div class="form-group">
                  <label for="uname1">nom : </label>
                  <input class="form-control" type="text" ngModel id="category" placeholder="nom du categorie"
                  [(ngModel)]="C.name"  name="name" formControlName="name" #nomcat
                  >
                  <div *ngIf="angForm.controls['name'].invalid && (angForm.controls['name'].dirty || angForm.controls['name'].touched)" class="alert alert-danger">
                    <div *ngIf="angForm.controls['name'].errors?.required">
                      nom est obligatoire.
                    </div>
                </div>
                </div>


                <button [disabled]="angForm.pristine || angForm.invalid"  class="btn btn-primary form-control" type="submit" (click)="add()">ajouter</button>
              </form>
            </div><!--/card-block-->
          </div><!-- /form card login -->
        </div>
      </div>
      <hr class="mb-4">

      <div class="row justify-content-center">
        <div class="col-md-6">
          <!-- form card register -->
          <div class="card card-outline-secondary">
            <div class="card-header">
              <h3 class="mb-0">ajouter une sous categorie :</h3>
            </div>
            <div class="card-body">
              <form autocomplete="off" class="form" role="form" [formGroup]="subForm">

                <label for="selectcat"> categorie : </label>
                <div class="d-flex justify-content-start">

                <select [(ngModel)]="selectedLevel" name="select" id="selectcat" class="col-md-6"   formControlName="select">
                  <option [ngValue]="null" disabled>Selectionner une categorie</option>
                  <option *ngFor="let l of list" [ngValue]="l">{{l.name}}</option>
                </select>
                </div>
                <div class="form-group">
                  <label for="inputName">nom du sous categorie :</label>
                  <input class="form-control" id="inputName" placeholder="sous categorie"
                  formControlName="name"
                  type="text" [(ngModel)]="sub.name"  name="name">
                </div>
                <div *ngIf="subForm.controls['name'].invalid && (subForm.controls['name'].dirty || subForm.controls['name'].touched)" class="alert alert-danger">
                  <div *ngIf="subForm.controls['name'].errors?.required">
                    nom est obligatoire.
                  </div>
                  </div>
                <div class="form-group">
                  <button [disabled]="subForm.pristine || subForm.invalid"  class="btn btn-primary form-control" type="submit" (click)="addsubcategory()">ajouter</button>

                </div>
              </form>
            </div>
          </div><!-- /form card register -->
        </div>
      </div>




      <hr class="mb-4">
      <div class="row justify-content-center">
        <div class="col-md-6">
          <span class="anchor" id="formLogin"></span>
          <!-- form card login -->
          <div class="card card-outline-secondary">
            <div class="card-header">
              <h3 class="mb-0">ajouter une fichier</h3>
            </div>
            <div class="card-body">
              <form autocomplete="off" class="form" id="formLogin" name="formLogin" role="form" [formGroup]="fileForm">
                <div class="form-group">

<label for="selcat">categorie :</label>
<div class="d-flex justify-content-start">

                <select [(ngModel)]="selectedLevelFile" name="selectcat" (change)="selected()" formControlName="selectcategorie" id="selcat" >
                  <option [ngValue]="null" disabled>Selectionner une categorie</option>
                  <option *ngFor="let l of list" [ngValue]="l">{{l.name}}</option>
                </select>
</div>
                </div>
<div class="form-group ">
                <label for="subcat">sous categorie :</label>
<div class="d-flex justify-content-start">
                <select [(ngModel)]="selectedsubFile" name="selectsub"formControlName="selectsouscategorie" id="subcat"  >
                  <option [ngValue]="null" disabled>Selectionner une sous category</option>
                  <option *ngFor="let l of listSub" [ngValue]="l">{{l.name}}</option>
                </select>
</div>


                </div>
                <div class=" form-group">
                <div class="custom-file">
                  <label class="custom-file-label" for="validatedCustomFile">{{ file ? file.name : 'Choose file...' }}</label>

 <input type="file" class="custom-file-input" id="validatedCustomFile" required  #fileInput (change)="selectFile($event)"
                  formControlName="file"
 >
                </div>
              </div>
                <button  [disabled]="fileForm.pristine || fileForm.invalid"  class="btn btn-primary form-control" type="button" (click)="upload()">ajouter</button>
              </form>
            </div>
          </div>
        </div>
      </div>
      <hr class="mb-4">




    </div><!--/col-->
  </div><!--/row-->
</div><!--/container-->


